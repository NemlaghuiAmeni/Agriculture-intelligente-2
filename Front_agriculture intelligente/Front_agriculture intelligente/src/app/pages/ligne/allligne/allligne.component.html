<!DOCTYPE html>
<html lang="en">
<head>

</head>
<body>


  <div class="table-responsive">
    <div class="table-wrapper">
      <div class="table-title">
        <div class="row">
          <div class="col-sm-6">
            <h2> Manage <b>Lignes</b></h2>
          </div>
        </div>
      </div>
      <table class="table table-striped table-hover" >
        <thead>
        <tr>
          <th>Name</th>
          <th>Longitude</th>
          <th>Latitude</th>
          <th>Site</th>
          <th>Status</th>
          <th>On/Off</th>
          <th>Actions</th>
        </tr>
        </thead>

        <tbody>
        <tr *ngFor="let hero of data1 ">
          <td>{{hero.name}}</td>
          <td>{{hero.lng}}</td>
          <td>{{hero.lat}}</td>
          <td>{{hero.siteName}}</td>
           <td> <span  style="size: 30px;" [ngClass]="hero.devices[0].state? 'green' : 'red' "
                       class="badge">{{hero.devices[0].state}}</span>
          </td>
          <td>
            <ng-container>
            <ui-switch   size="small" [(ngModel)]="hero.devices[0].state"
                     (change)="onChange($event,hero._id)"    ></ui-switch></ng-container>
          </td>

          <ng-template #contentEdit let-modal>
            <div class="modal-header">
              <h4 class="modal-title" id="modal-basic-title">Edit Ligne</h4>
              <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
                <span aria-hidden="true">&times;</span>
              </button>
            </div>
            <div class="modal-body">
              <form [formGroup]="editForm" novalidate>
                <div class="form-group">
                  <label for="name">Name</label>
                  <div class="input-group">
                    <input formControlName="name" [(ngModel)]="hero.name" class="form-control">
                  </div>
                </div>
                <div class="form-group">
                  <label for="lng">lat</label>
                  <div class="input-group">
                    <input formControlName="lng" class="form-control" [(ngModel)]="hero.lng">
                  </div>
                  <div class="form-group">
                    <label for="lat">lng</label>
                    <div class="input-group">
                      <input formControlName="lat" [(ngModel)]="hero.lat" class="form-control">
                    </div>
                  </div>
                </div>

                <div > <button data-dismiss="modal" (click)="onSave(hero._id)" _ngcontent-csk-c27="" style="border-radius: 24px;" type="submit" nbbutton="" status="success"
                               _nghost-csk-c16="" ng-reflect-status="success"
                               class="appearance-filled size-medium status-success shape-rectangle transitions"
                               aria-disabled="false" tabindex="0">Save Changes</button> </div>
              </form>

            </div>
            <div class="modal-footer">
              <button type="button" _ngcontent-csk-c27="" style="border-radius: 24px;"
                      type="reset"
                      class="cancel appearance-filled size-medium status-danger shape-rectangle transitions"
                      nbbutton="" status="warning" _nghost-csk-c16="" ng-reflect-status="danger"
                      aria-disabled="false" tabindex="0" (click)="modal.close('Save click')">Close</button>
            </div>

          </ng-template>
          <td>
            <a href="#contentEdit" class="edit" data-toggle="modal">
              <i class="material-icons" data-toggle="tooltip"  title="Edit" (click)="openEdit(contentEdit, final)">&#xE254;</i></a>
            <a  class="delete"  (click)="onDeleteConfirm(hero._id)" >
              <i class="material-icons" data-toggle="tooltip" title="Delete">&#xE872;</i></a>
          </td>
        </tr>

        </tbody>
      </table >
      <div class="clearfix">
        <div class="hint-text">Showing <b>5</b> out of <b>25</b> entries</div>
        <ul class="pagination">
          <li class="page-item disabled"><a href="#">Previous</a></li>
          <li class="page-item"><a href="#" class="page-link">1</a></li>
          <li class="page-item"><a href="#" class="page-link">2</a></li>
          <li class="page-item active"><a href="#" class="page-link">3</a></li>
          <li class="page-item"><a href="#" class="page-link">4</a></li>
          <li class="page-item"><a href="#" class="page-link">5</a></li>
          <li class="page-item"><a href="#" class="page-link">Next</a></li>
        </ul>
      </div>
    </div>
  </div>

<!-- Edit Modal HTML -->


<!-- Delete Modal HTML -->
</body>
</html>
