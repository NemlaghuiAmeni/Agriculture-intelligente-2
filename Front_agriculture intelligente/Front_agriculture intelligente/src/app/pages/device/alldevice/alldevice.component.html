<!DOCTYPE html>
<html lang="en">
<head>

</head>
<body>


  <div class="table-responsive">
    <div class="table-wrapper">
      <div class="table-title">
        <div class="row">
          <div class="col-sm-6">
            <h2> Manage <b> Devices </b></h2>
          </div>

        </div>
      </div>
      <table class="table table-striped table-hover" >
        <thead>
        <tr>
          <th>Code</th>
          <th>Name</th>
          <th>Ligne</th>
          <th>Longitude</th>
          <th>Latitude</th>
          <th>Status</th>
          <th>On/Off</th>
          <th>Actions</th>
        </tr></thead>
        <tbody>
        <tr *ngFor="let hero of data1">
          <td>{{hero.code}}</td>
          <td>{{hero.name}}</td>
          <td>{{hero.ligneName}}</td>
          <td>{{hero.lng}}</td>
          <td>{{hero.lat}}</td>
          <td> <span style="size: 30px;" [ngClass]="hero.state ? 'green' : 'red' "  class="badge">{{hero.state}}</span>
          </td>
          <td>
            <ui-switch size="small" [(ngModel)]="hero.state" name="state" [checked]="hero.state"
                       (ngModelChange)="onChange(hero.state,hero.code)" ></ui-switch>
          </td>
          <ng-template #contentEdit let-modal>
            <div class="modal-header">
              <h4 class="modal-title" id="modal-basic-title">Edit Device</h4>
              <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
                <span aria-hidden="true">&times;</span>
              </button>
            </div>
            <div class="modal-body">
              <form [formGroup]="editForm" novalidate>
                <div class="form-group">
                  <label for="code">Code</label>
                  <div class="input-group">
                    <input formControlName="code" [(ngModel)]="hero.code" class="form-control">
                  </div>
                </div>
                <div class="form-group">
                  <label for="name">Name</label>
                  <div class="input-group">
                    <input formControlName="name" [(ngModel)]="hero.name" class="form-control">
                  </div>
                </div>
                <div class="form-group">
                  <label for="lng">lat</label>
                  <div class="input-group">
                    <input formControlName="lng" class="form-control" [(ngModel)]="hero.lng">
                  </div>
                  <div class="form-group">
                    <label for="lat">lng</label>
                    <div class="input-group">
                      <input formControlName="lat" [(ngModel)]="hero.lat" class="form-control">
                    </div>
                  </div>
                </div>

                <div > <button data-dismiss="modal" (click)="onSave(hero._id)" _ngcontent-csk-c27="" style="border-radius: 24px;" type="submit" nbbutton="" status="success"
                               _nghost-csk-c16="" ng-reflect-status="success"
                               class="appearance-filled size-medium status-success shape-rectangle transitions"
                               aria-disabled="false" tabindex="0">Save Changes</button> </div>
              </form>

            </div>
            <div class="modal-footer">
              <button type="button" _ngcontent-csk-c27="" style="border-radius: 24px;"
                      type="reset"
                      class="cancel appearance-filled size-medium status-danger shape-rectangle transitions"
                      nbbutton="" status="warning" _nghost-csk-c16="" ng-reflect-status="danger"
                      aria-disabled="false" tabindex="0" (click)="modal.close('Save click')">Close</button>
            </div>

          </ng-template>
          <td>
            <a href="#contentEdit" class="edit" data-toggle="modal">
              <i class="material-icons" data-toggle="tooltip"  title="Edit" (click)="openEdit(contentEdit, final)">&#xE254;</i></a>
            <a  class="delete"  (click)="onDeleteConfirm(hero._id)" >
              <i class="material-icons" data-toggle="tooltip" title="Delete">&#xE872;</i></a>
          </td>
        </tr>

        </tbody>
      </table >
      <div class="clearfix">
        <div class="hint-text">Showing <b>5</b> out of <b>25</b> entries</div>
        <ul class="pagination">
          <li class="page-item disabled"><a href="#">Previous</a></li>
          <li class="page-item"><a href="#" class="page-link">1</a></li>
          <li class="page-item"><a href="#" class="page-link">2</a></li>
          <li class="page-item active"><a href="#" class="page-link">3</a></li>
          <li class="page-item"><a href="#" class="page-link">4</a></li>
          <li class="page-item"><a href="#" class="page-link">5</a></li>
          <li class="page-item"><a href="#" class="page-link">Next</a></li>
        </ul>
      </div>
    </div>
  </div>

<!-- Edit Modal HTML -->


<!-- Delete Modal HTML -->
</body>
</html>

